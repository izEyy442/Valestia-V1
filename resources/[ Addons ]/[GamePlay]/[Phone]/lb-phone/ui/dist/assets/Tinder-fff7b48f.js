import{R as V,r as l,a as r,j as e,F as U}from"./jsx-runtime-f40812bf.js";import{f as _,L as m,k as W,E as Ne,b as J,I as be,n as ye,bV as K,ba as X,X as ie,C as H,h as le,ak as pe,ae as ve,v as G,c as Q,u as Ee,bW as Se,a1 as ue,W as te,a3 as Ie,a4 as he,ax as Te,bH as Me,G as Ce,x as Ae,d as De,S as se,aI as xe}from"./Phone-4e9b2e8a.js";import"./number-28525126.js";var oe=function(a){return new Promise(function(o){setTimeout(o,a)})};const k={snapBackDuration:300,maxTilt:5,bouncePower:.1,swipeThreshold:100},Re=t=>{const a=window.getComputedStyle(t),o=a.getPropertyValue("width"),s=Number(o.split("px")[0]),g=a.getPropertyValue("height"),v=Number(g.split("px")[0]);return{x:s,y:v}},me=(t,a)=>Math.sqrt(Math.pow(t,2)+Math.pow(a,2)),ke=(t,a=1)=>{const o=Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2));return{x:t.x*a/o,y:t.y*a/o}},ne=async(t,a,o=!1)=>{const s=Z(t),g=Re(document.body),v=me(g.x,g.y),N=me(a.x,a.y),p=v/N,b=v/N,T=ce(a.x*b+s.x,-a.y*b+s.y);let M="";const u=200;o?t.style.transition="ease "+p+"s":t.style.transition="ease-out "+p+"s",q(t)===0?M=z((Math.random()-.5)*u):q(t)>0?M=z(Math.random()*u/2+q(t)):M=z((Math.random()-1)*u/2+q(t)),t.style.transform=T+M,await oe(p*1e3)},ge=async t=>{t.style.transition=k.snapBackDuration+"ms";const a=Z(t),o=ce(a.x*-k.bouncePower,a.y*-k.bouncePower),s=z(q(t)*-k.bouncePower);t.style.transform=o+s,await oe(k.snapBackDuration*.75),t.style.transform="none",await oe(k.snapBackDuration),t.style.transition="10ms"},fe=t=>{if(Math.abs(t.x)>Math.abs(t.y)){if(t.x>k.swipeThreshold)return"right";if(t.x<-k.swipeThreshold)return"left"}else{if(t.y>k.swipeThreshold)return"up";if(t.y<-k.swipeThreshold)return"down"}return"none"},we=(t,a)=>{const o=a.x-t.x,s=t.y-a.y,g=(a.time-t.time)/1e3;return{x:o/g,y:s/g}},ce=(t,a)=>"translate("+t+"px)",z=t=>"rotate("+t+"deg)",Z=t=>{const a=window.getComputedStyle(t),o=new DOMMatrix(a.transform);return{x:o.m41,y:-o.m42}},q=t=>{const a=window.getComputedStyle(t),o=new DOMMatrix(a.transform);return-Math.asin(o.m21)/(2*Math.PI)*360},Le=(t,a,o,s)=>{const g={x:t.x+o.x,y:t.y+o.y},v={x:g.x,y:g.y,time:new Date().getTime()},N=ce(g.x),p=we(s,v).x/1e3,b=z(p*k.maxTilt);return a.style.transform=N+b,v},ae=t=>{const a=t.targetTouches[0];return{x:a.clientX,y:a.clientY}},re=t=>({x:t.clientX,y:t.clientY}),_e=V.forwardRef(({flickOnSwipe:t=!0,children:a,onSwipe:o,onCardLeftScreen:s,className:g,preventSwipe:v=[],swipeRequirementType:N="velocity",swipeThreshold:p=k.swipeThreshold,onSwipeRequirementFulfilled:b,onSwipeRequirementUnfulfilled:T},M)=>{k.swipeThreshold=p;const u=V.useRef(!1),c=V.useRef();V.useImperativeHandle(M,()=>({async swipe(w="right"){o&&o(w);const n=1e3,h=(Math.random()-.5)*100;w==="right"?await ne(c.current,{x:n,y:h},!0):w==="left"&&await ne(c.current,{x:-n,y:h},!0),c.current.style.display="none",s&&s(w)},async restoreCard(){c.current.style.display="block",await ge(c.current)}}));const E=V.useCallback(async(w,n)=>{if(u.current)return;u.current=!0;const h=Z(w),A=fe(N==="velocity"?n:h);if(A!=="none"&&(o&&o(A),t&&!v.includes(A))){const x=N==="velocity"?n:ke(h,600);await ne(w,x),w.style.display="none",s&&s(A);return}ge(w)},[u,t,o,s,v,N]),S=V.useCallback(()=>{u.current=!1},[u]);return V.useLayoutEffect(()=>{let w={x:null,y:null},n={x:0,y:0},h={x:0,y:0,time:new Date().getTime()},A=!1,x="none";c.current.addEventListener("touchstart",d=>{d.preventDefault(),S(),w={x:-ae(d).x,y:-ae(d).y}}),c.current.addEventListener("mousedown",d=>{d.preventDefault(),A=!0,S(),w={x:-re(d).x,y:-re(d).y}});const P=d=>{if(b||T){const y=fe(N==="velocity"?n:Z(c.current));y!==x&&(x=y,x==="none"?T&&T():b&&b(y))}const i=Le(d,c.current,w,h);n=we(h,i),h=i};c.current.addEventListener("touchmove",d=>{d.preventDefault(),P(ae(d))}),c.current.addEventListener("mousemove",d=>{d.preventDefault(),A&&P(re(d))}),c.current.addEventListener("touchend",d=>{d.preventDefault(),E(c.current,n)}),c.current.addEventListener("mouseup",d=>{A&&(d.preventDefault(),A=!1,E(c.current,n))}),c.current.addEventListener("mouseleave",d=>{A&&(d.preventDefault(),A=!1,E(c.current,n))})},[]),V.createElement("div",{ref:c,className:g},a)});function de(){const{View:t}=l.useContext(B),[a,o]=t;return r("div",{className:"home-header",children:[e("img",{src:"./assets/img/icons/tinder/profile.svg",onClick:()=>o("profile")}),e("img",{className:"logo",src:"./assets/img/icons/tinder/logo.png",onClick:()=>o("home")}),e("img",{src:"./assets/img/icons/tinder/messages.svg",onClick:()=>o("messageList")})]})}function Oe(){const{View:t,User:a}=l.useContext(B),[o,s]=t,[g,v]=a,[N,p]=l.useState([]),[b,T]=l.useState(0),[M,u]=l.useState(),c=l.useRef(b),E=l.useRef(0),[S,w]=l.useState([]),[n,h]=l.useState(0),[A,x]=l.useState(!1),[P,d]=l.useState(null);let[i,y]=l.useState("");l.useEffect(()=>{_("Tinder",{action:"getFeed",page:0}).then(f=>{f&&f.length>0?(p(f),T(f.length-1),E.current=f.length,w(Array(f.length).fill(0).map(D=>V.createRef()))):x(!0)})},[]);const I=f=>{T(f),c.current=f},C=b<N.length-1,L=b>=0,F=(f,D,O)=>{u(f),I(O-1),$(),f==="right"?_("Tinder",{action:"swipe",like:!0,number:D.number}).then(Pe=>{Pe&&d(D)}):f==="left"&&_("Tinder",{action:"swipe",like:!1,number:D.number})},j=(f,D)=>{c.current>=D&&S[D].current.restoreCard()},Y=async f=>{L&&b<N.length&&(await S[b].current.swipe(f),$())},R=async()=>{var D,O;if(!C)return;const f=b+1;I(f),await((O=(D=S[f])==null?void 0:D.current)==null?void 0:O.restoreCard())},$=()=>{if(E.current>1){E.current=E.current-1;return}_("Tinder",{action:"getFeed",page:n+1}).then(f=>{if(f)if(f&&f.length>0){h(n+1);let D=f.length+N.length;p(O=>(O=[...O,...f],O)),E.current=f.length,T(D-1),w(Array(D).fill(0).map(O=>V.createRef()))}else x(!0)})};return r("div",{className:`home-wrapper slide ${o=="profile"?"left":"right"}`,children:[e(de,{}),P&&r("div",{className:"match",style:{backgroundImage:`url(${P.photos[0]})`},children:[e("img",{className:"match-image",src:"./assets/img/icons/tinder/match.png"}),r("div",{className:"likes-too",children:[P.name," ",m("APPS.TINDER.LIKES_YOU_TOO").toLowerCase()]}),r("div",{className:"input",children:[e(W,{type:"text",placeholder:m("APPS.TINDER.SAY_SOMETHING_NICE"),onChange:f=>y(f.target.value)}),e("div",{className:"send",onClick:()=>{_("Tinder",{action:"sendMessage",data:{recipient:P.number,content:i}}).then(f=>{f&&(v(P),s("message"))})},children:m("APPS.TINDER.SEND")})]}),e("div",{className:"keep-swiping",onClick:()=>{d(null)},children:m("APPS.TINDER.KEEP_SWIPING")})]}),r("div",{className:"home-body",children:[r("div",{className:"cards",children:[A&&e("div",{className:"card no-more",children:e("div",{children:m("APPS.TINDER.NO_MORE")})}),N.map((f,D)=>e(_e,{ref:S[D],className:"swipe",onSwipe:O=>F(O,f,D),onCardLeftScreen:()=>j(f,D),children:e(Ve,{user:f})},D))]}),r("div",{className:"actions",children:[e("div",{className:"button red",onClick:()=>Y("left"),children:e("img",{src:"./assets/img/icons/tinder/close.svg"})}),e("div",{className:`button yellow small ${C?"":"disabled"}`,onClick:()=>R(),children:e("img",{src:"./assets/img/icons/tinder/undo.svg"})}),e("div",{className:"button green",onClick:()=>Y("right"),children:e("img",{src:"./assets/img/icons/tinder/heart.svg"})})]})]})]})}const Ve=t=>{let a=t.user;const[o,s]=l.useState(0),[g,v]=l.useState(0);return l.useEffect(()=>{v(ee(a.dob))},[a]),r("div",{className:"card",style:{backgroundImage:`url(${a.photos[o]})`},onClick:N=>{o<a.photos.length-1?s(o+1):s(0)},children:[a.photos.length>1&&e("div",{className:"image-count",children:a.photos.map((N,p)=>e("div",{className:`image ${p==o?"active":""}`,onClick:b=>{b.stopPropagation(),s(p)}}))}),r("div",{className:"card-content",children:[r("div",{className:"name",children:[a.name," ",e("span",{children:g})]}),e("div",{className:"description",children:a.bio})]})]})};function $e(){const{Func:t}=l.useContext(Ne),{LoggedIn:a,Account:o}=l.useContext(B),s=J(Q.PhoneNumber),[g,v]=t.TextColor,[N,p]=o,[b,T]=a,[M,u]=l.useState("notLoggedIn"),[c,E]=l.useState(0),[S,w]=l.useState({});l.useEffect(()=>{M=="notLoggedIn"?v("#ffffff"):v("#000000")},[M]);const[n,h]=l.useState({name:null,photos:[],_dob:{day:"",month:"",year:""},dob:null,bio:null,showMen:!1,showWomen:!1,isMale:null}),A=P=>{var d,i,y;switch(P){case 0:let I=new Date(`${(d=n._dob)==null?void 0:d.year}/${(i=n._dob)==null?void 0:i.month}/${(y=n._dob)==null?void 0:y.day}`);if(x(I)){let C=ee(I);n.name&&n.name.length>=2&&C>=18&&C<=100&&(h({...n,dob:I.getTime()}),E(P+1))}break;case 1:n.photos.length>0&&E(P+1);break;case 2:n.bio&&n.bio.length>=10&&E(P+1);break;case 3:(n.showMen||n.showWomen)&&E(P+1);break;case 4:(n.isMale==!0||n.isMale==!1)&&_("Tinder",{action:"createAccount",data:{...n,dob:new Date(n.dob).toISOString().split("T")[0]}}).then(C=>{C&&(G.APPS.TINDER.account.set(n),p(n),T(!0))});break}},x=P=>P.getTime()===P.getTime();return e("div",{className:"login-container",style:{background:M==="notLoggedIn"?"linear-gradient(45deg, #626fbf, #952fe5)":"#ffffff"},children:M==="notLoggedIn"?r(U,{children:[r("div",{className:"logo",children:[e("img",{src:"./assets/img/icons/tinder/logo-white.png"}),e("div",{className:"logo-text",children:m("APPS.TINDER.TITLE").toLowerCase()})]}),r("div",{className:"buttons",children:[e("div",{className:"disclamer",children:m("APPS.TINDER.AGREE_TERMS")}),e("div",{className:"button create",onClick:()=>{u("createAccount")},children:m("APPS.TINDER.CREATE_ACCOUNT")})]})]}):r("div",{className:"create-account",children:[e(be,{className:"chevron",onClick:()=>{c>0?E(c-1):u("notLoggedIn")}}),c==0&&r(U,{children:[e("div",{className:"title",children:m("APPS.TINDER.CREATE_ACCOUNT")}),r("div",{className:"form-body",children:[e(W,{defaultValue:ye(s),type:"text",disabled:!0}),e(W,{placeholder:"Name",type:"text",maxLength:25,onChange:P=>{h({...n,name:P.target.value}),P.target.value.length>=3?w({...S,name:!0}):w({...S,name:!1})}}),r("div",{className:"dob",children:[r("div",{className:"inputs",children:[e(W,{placeholder:"MM",type:"text",pattern:"/^-?\\d+\\.?\\d*$/",minLength:2,maxLength:2,onChange:P=>{h({...n,_dob:{...n._dob,month:P.target.value}})}}),e("span",{children:"/"}),e(W,{placeholder:"DD",type:"text",pattern:"/^-?\\d+\\.?\\d*$/",minLength:2,maxLength:2,onChange:P=>{h({...n,_dob:{...n._dob,day:P.target.value}})}}),e("span",{children:"/"}),e(W,{placeholder:"YYYY",type:"text",pattern:"/^-?\\d+\\.?\\d*$/",minLength:4,maxLength:4,onChange:P=>{var I,C,L;let d={...n,_dob:{...n._dob,year:P.target.value}};h(d);let i=new Date(`${(I=d._dob)==null?void 0:I.year}/${(C=d._dob)==null?void 0:C.month}/${(L=d._dob)==null?void 0:L.day}`),y=ee(i);y>=18&&y<100?w({...S,18:!0}):w({...S,18:!1})}})]}),e("div",{className:"disclamer",children:m("APPS.TINDER.AGE_PUBLIC")}),r("div",{className:"requirement",children:[S[18]?e(K,{className:"green"}):e(X,{className:"red"}),m("APPS.TINDER.BE_OVER_18")]}),r("div",{className:"requirement",children:[S.name?e(K,{className:"green"}):e(X,{className:"red"}),m("APPS.TINDER.NAME_MINIMUM")]})]})]})]}),c==1&&r(U,{children:[e("div",{className:"title",children:m("APPS.TINDER.ADD_PHOTOS")}),e("div",{className:"photo-grid",children:[...Array(6)].map((P,d)=>{var y;let i=((y=n.photos)==null?void 0:y[d-1])||d==0;return n.photos[d]?e("div",{className:"photo",style:{backgroundImage:`url(${n.photos[d]})`},children:e("div",{className:"button remove",onClick:()=>{let I=n.photos;I.splice(d,1),h({...n,photos:I}),I.length==0&&w({...S,photos:!1})},children:e(ie,{})})}):e("div",{className:"photo",children:i&&e("div",{className:"button add",onClick:()=>{var I,C,L;H.Gallery.set({allowExternal:(L=(C=(I=le)==null?void 0:I.value)==null?void 0:C.AllowExternal)==null?void 0:L.Tinder,onSelect:F=>h({...n,photos:[...n.photos,F.src]})}),w({...S,photos:!0})},children:e(pe,{})})})})}),r("div",{className:"requirement",children:[S.photos?e(K,{className:"green"}):e(X,{className:"red"}),m("APPS.TINDER.PHOTOS_MINIMUM")]})]}),c==2&&r(U,{children:[e("div",{className:"title",children:m("APPS.TINDER.DESCRIPTION")}),e(ve,{placeholder:"Description",maxLength:200,onChange:P=>{h({...n,bio:P.target.value}),P.target.value.length>=10?w({...S,bio:!0}):w({...S,bio:!1})}}),r("div",{className:"requirement",children:[S.bio?e(K,{className:"green"}):e(X,{className:"red"}),m("APPS.TINDER.DESCRIPTION_MINIMUM")]})]}),c==3&&r(U,{children:[e("div",{className:"title",children:m("APPS.TINDER.SHOW_ME")}),r("div",{className:"showme",children:[e("div",{className:`button border ${n.showWomen&&!n.showMen?"active":""}`,onClick:()=>{h({...n,showMen:!1,showWomen:!0})},children:m("APPS.TINDER.WOMEN")}),e("div",{className:`button border ${n.showMen&&!n.showWomen?"active":""}`,onClick:()=>{h({...n,showMen:!0,showWomen:!1})},children:m("APPS.TINDER.MEN")}),e("div",{className:`button border ${n.showMen&&n.showWomen?"active":""}`,onClick:()=>{h({...n,showMen:!0,showWomen:!0})},children:m("APPS.TINDER.EVERYONE")})]})]}),c==4&&r(U,{children:[e("div",{className:"title",children:m("APPS.TINDER.I_AM")}),r("div",{className:"showme",children:[e("div",{className:`button border ${n.isMale===!0?"active":""}`,onClick:()=>{h({...n,isMale:!0})},children:m("APPS.TINDER.MALE")}),e("div",{className:`button border ${n.isMale===!1?"active":""}`,onClick:()=>{h({...n,isMale:!1})},children:m("APPS.TINDER.FEMALE")})]})]}),e("div",{className:"button gradient",onClick:()=>A(c),children:m("APPS.TINDER.CONTINUE")})]})})}function We(){var d;const{View:t,User:a}=l.useContext(B);J(Q.Settings);const o=J(Q.PhoneNumber),[s,g]=a,[v,N]=t,[p,b]=l.useState([]),[T,M]=l.useState(0),[u,c]=l.useState(!1),[E,S]=l.useState(!1),w=l.useRef(null),n=l.useRef(0),[h,A]=l.useState({content:"",attachments:[]});l.useEffect(()=>{_("Tinder",{action:"getMessages",page:0,number:s.number}).then(i=>{i&&i.length>0?b(i.reverse()):c(!0)})},[]);const x=()=>{if(h.content.length===0&&h.attachments.length===0)return;const i={sender:o,recipient:s.number,content:h.content,attachments:h.attachments,timestamp:new Date().getTime()};_("Tinder",{action:"sendMessage",data:i}).then(y=>{y&&(w.current.value="",A({content:"",attachments:[]}),b([...p,i]))})},P=()=>{if(u||E)return;let i=document.querySelector("#last");if(!i)return;!Ce(i)&&(S(!0),_("Tinder",{action:"getMessages",page:T+1,number:s.number}).then(I=>{if(I&&I.length>0){let C=document.querySelector(".message-container");n.current=C.scrollHeight,b([...I.reverse(),...p]),S(!1)}else c(!0)}),M(I=>I+1))};return l.useEffect(()=>{let i=document.querySelector(".message-container");const y=i.scrollHeight;i.scrollTop+=y-n.current,i.scroll},[p]),Ee("tinder:newMessage",i=>{s.number===i.sender&&b([...p,i])}),r("div",{className:"home-wrapper slide left",children:[r("div",{className:"message-header",children:[e(Se,{onClick:()=>{N("messageList"),g(null)}}),r("div",{className:"user",children:[e("img",{className:"profile-picture",src:(d=s.photos)==null?void 0:d[0]}),e("div",{className:"name",children:s.name})]})]}),e("div",{className:"message-container",onScroll:P,children:e("div",{className:"message-body",children:p.map((i,y)=>{var j,Y;let I,C=y===0?"last":"",L=i.sender===o?"self":"other",F=((j=p[y+1])==null?void 0:j.sender)===o?"self":"other";return p[y+1]?I=Math.abs(i.timestamp-p[y+1].timestamp)/36e5:F=void 0,r("div",{className:`message ${L}`,id:C,children:[L=="other"?r("div",{className:"message-with-pfp",children:[e("div",{className:`profile-picture ${L!==F?"show":"hide"}`,children:e("img",{src:(Y=s.photos)==null?void 0:Y[0]})}),r("div",{className:"message-content",children:[i.content&&e("div",{className:"content",children:ue(i.content)}),i.attachments.length>0&&e("div",{className:"attatchments",children:i.attachments.map((R,$)=>te(R)?e("video",{src:R,controls:!1,loop:!0,autoPlay:!0,muted:!0,onClick:f=>{H.FullscreenImage.set({display:!0,image:R})}},$):e(Ie,{src:R,onClick:()=>{H.FullscreenImage.set({display:!0,image:R})}},$))})]})]}):r(U,{children:[i.content&&e("div",{className:"content",children:ue(i.content)}),i.attachments.length>0&&e("div",{className:"attatchments",children:i.attachments.map((R,$)=>te(R)?e("video",{src:R,controls:!1,loop:!0,autoPlay:!0,muted:!0,onClick:()=>{H.FullscreenImage.set({display:!0,image:R})}},$):e("img",{src:R,onClick:()=>{H.FullscreenImage.set({display:!0,image:R})}},$))})]}),p[y+1]&&I>6?e("div",{className:"date",children:he(i.timestamp)}):L!==F&&e("div",{className:"date",children:he(i.timestamp)})]},y)})})}),e("div",{className:"attachments",children:h.attachments.map((i,y)=>r("div",{className:"attachment",children:[te(i)?e("video",{src:i,controls:!1,muted:!0,loop:!0,autoPlay:!0}):e("img",{src:i}),e(ie,{onClick:()=>{A({...h,attachments:h.attachments.filter((I,C)=>C!==y)})}})]}))}),r("div",{className:"message-bottom",children:[e(Te,{className:"image",onClick:()=>{var i,y,I;h.attachments.length<3&&H.Gallery.set({includeVideos:!0,allowExternal:(I=(y=(i=le)==null?void 0:i.value)==null?void 0:y.AllowExternal)==null?void 0:I.Messages,onSelect:C=>A({...h,attachments:[...h.attachments,C.src]})})}}),r("div",{className:"input",children:[e(W,{type:"text",placeholder:"Type a message...",ref:w,onChange:i=>{A({...h,content:i.target.value})},onKeyDown:i=>{i.key==="Enter"&&x()}}),e(Me,{className:h.attachments.length>0||h.content.length>0?"active":"",onClick:()=>x()})]})]})]})}function Fe(){const{Func:t}=l.useContext(Ne),{View:a,User:o}=l.useContext(B),[s,g]=t.TextColor,[v,N]=o,[p,b]=a,[T,M]=l.useState({newMatches:[],messages:[]});return l.useEffect(()=>{g("#000000"),_("Tinder",{action:"getMatches"}).then(u=>{u&&M(u)})},[]),Ee("tinder:newMessage",u=>{let c=u.sender,E=JSON.parse(JSON.stringify(T)),S=E.messages.findIndex(w=>w.number===c);if(S!==-1)E.messages.unshift(E.messages.splice(S,1)[0]);else if(S=E.newMatches.findIndex(w=>w.number===c),S!==-1)E.messages.unshift(E.newMatches.splice(S,1)[0]);else return;E.messages[0].lastMessage=u.content,M(E)}),r("div",{className:"home-wrapper slide left",children:[e(de,{}),e(Ae,{placeholder:m("APPS.TINDER.SEARCH_MATCHES"),onChange:()=>{}})," ",r("div",{className:"message-list-body",children:[r("div",{className:"new-matches",children:[r("div",{className:"title",children:[m("APPS.TINDER.NEW_MATCHES"),T.newMatches.length>0&&e("span",{children:T.newMatches.length})]}),e("div",{className:"matches",children:T.newMatches.map((u,c)=>{var E;return r("div",{className:"new-match",onClick:()=>{N(u),b("message")},children:[e("img",{className:"profile-picture",src:(E=u.photos)==null?void 0:E[0]}),e("div",{className:"name",children:u.name})]},c)})})]}),r("div",{className:"recent-messages",children:[e("div",{className:"title",children:m("APPS.TINDER.MESSAGES")}),e("div",{className:"messages",children:T.messages.map((u,c)=>{var E;return u.lastMessage.length===0&&(u.lastMessage=m("APPS.MESSAGES.SENT_A_PHOTO")),r("div",{className:"message",onClick:()=>{N(u),b("message")},children:[e("img",{className:"profile-picture",src:(E=u.photos)==null?void 0:E[0]}),r("div",{className:"user",children:[e("div",{className:"name",children:u.name}),e("div",{className:"message",children:u.lastMessage.length>40?u.lastMessage.substring(0,40)+"...":u.lastMessage})]})]},c)})})]})]})]})}function Ue(){const{Account:t}=l.useContext(B),[a,o]=t,[s,g]=l.useState(a);return r("div",{className:"home-wrapper slide right",style:{backgroundColor:"#F6F6F6"},children:[e(de,{}),r("div",{className:"profile-body",children:[r("div",{className:"user",children:[e("img",{className:"profile-picture",src:s.photos[0]}),r("div",{className:"name",children:[s.name,", ",ee(s.dob)]})]}),r("div",{className:"inputs",children:[r("div",{className:"input",children:[e("div",{className:"label",children:m("APPS.TINDER.NAME")}),e(W,{type:"text",defaultValue:s.name,maxLength:10,onChange:v=>{g({...s,name:v.target.value})}})]}),r("div",{className:"input center",children:[e("div",{className:"label",children:m("APPS.TINDER.PHOTOS")}),e("div",{className:"photo-grid",children:[...Array(6)].map((v,N)=>{var b;let p=((b=s.photos)==null?void 0:b[N-1])||N==0;return s.photos[N]?e("div",{className:"photo",style:{backgroundImage:`url(${s.photos[N]})`},children:e("div",{className:"photo-button remove",onClick:()=>{let T=s.photos;T.splice(N,1),g({...s,photos:T})},children:e(ie,{})})},N):e("div",{className:"photo",children:p&&e("div",{className:"photo-button add",onClick:()=>{var T,M,u;H.Gallery.set({allowExternal:(u=(M=(T=le)==null?void 0:T.value)==null?void 0:M.AllowExternal)==null?void 0:u.Tinder,onSelect:c=>g({...s,photos:[...s.photos,c.src]})})},children:e(pe,{})})})})})]}),r("div",{className:"input",children:[e("div",{className:"label",children:m("APPS.TINDER.ABOUT_ME")}),e(ve,{type:"text",defaultValue:s.bio,maxLength:100,onChange:v=>{g({...s,bio:v.target.value})}})]}),r("div",{className:"input",children:[e("div",{className:"label",children:m("APPS.TINDER.INTERESTED_IN")}),r("select",{value:s.showMen&&s.showWomen?"Everyone":s.showMen?"Men":"Women",onChange:v=>{switch(v.target.value){case"Everyone":g({...s,showMen:!0,showWomen:!0});break;case"Men":g({...s,showMen:!0,showWomen:!1});break;case"Women":g({...s,showMen:!1,showWomen:!0});break}},children:[e("option",{value:"Men",children:m("APPS.TINDER.MEN")}),e("option",{value:"Women",children:m("APPS.TINDER.WOMEN")}),e("option",{value:"Everyone",children:m("APPS.TINDER.EVERYONE")})]})]}),r("div",{className:"input",children:[e("div",{className:"label",children:m("APPS.TINDER.GENDER")}),r("select",{value:s.isMale?"male":"female",onChange:v=>{v.target.value=="male"?g({...s,isMale:!0}):g({...s,isMale:!1})},children:[e("option",{value:"male",children:m("APPS.TINDER.MALE")}),e("option",{value:"female",children:m("APPS.TINDER.FEMALE")})]})]})]}),e("div",{className:"button gradient",onClick:()=>{s.name.length>=2&&s.bio.length>=5&&s.photos.length>=1?_("Tinder",{action:"saveProfile",data:s}).then(v=>{v&&o(s)}):De("error","Issue saving tinder profile, (name not 2 characters, bio not over 5 or no photos)")},children:m("APPS.TINDER.SAVE")})]})]})}const B=l.createContext(null);function Ye(){const t=J(Q.Settings),[a,o]=l.useState(!1),[s,g]=l.useState(null),[v,N]=l.useState(null),[p,b]=l.useState("home"),[T,M]=l.useState(!0),u={home:e(Oe,{}),profile:e(Ue,{}),messageList:e(Fe,{}),message:e(We,{})};return l.useEffect(()=>{if(G.APPS.TINDER.account.value){g(G.APPS.TINDER.account.value),o(!0),M(!1);return}else if(G.APPS.TINDER.account.value===!1)return M(!1);_("Tinder",{action:"isLoggedIn"}).then(c=>{c?(g(c),o(!0),G.APPS.TINDER.account.set(c)):G.APPS.TINDER.account.set(!1),M(!1)})},[]),l.useEffect(()=>(p==="message"?se.ReceiveAppNotifications.set(!1):se.ReceiveAppNotifications.set(!0),()=>{se.ReceiveAppNotifications.set(!0)}),[p]),e("div",{className:"tinder-container",children:e(B.Provider,{value:{LoggedIn:[a,o],Account:[s,g],User:[v,N],View:[p,b]},children:T||t!=null&&t.airplaneMode?e("div",{className:"loading",children:e(xe,{size:40,lineWeight:5,speed:2,color:"#000000"})}):a?u[p]:e($e,{})})})}function ee(t){var a=+new Date(t);return~~((Date.now()-a)/315576e5)}export{B as TinderContext,Ye as default,ee as getAge};
